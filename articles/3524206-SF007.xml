<?xml version="1.0"?><api><query><pages><page pageid="3524206" ns="0" title="DriveSpace"><revisions><rev xml:space="preserve">{{Redirect|Doublespace}}
{{Refimprove|date=July 2007}}

'''DriveSpace''' (initially known as '''DoubleSpace''') is a [[disk compression]] utility supplied with [[MS-DOS]] starting from version 6.0. The purpose of DriveSpace is to increase the amount of data the user could store on disks, by transparently compressing and decompressing data on-the-fly. It is primarily intended for use with [[hard disk|hard drives]], but use for [[floppy disk]]s is also supported. There have even been people who claim to have compressed USB flash drives and other removable media.{{Citation needed|date=November 2009}}

== Overview ==

In the most common usage scenario, the user would have one hard drive in the computer, with all the space allocated to one partition (usually as [[Drive letter|drive]] C:). The software would compress the entire drive contents into one large file in the root partition. On booting the system, the driver would allocate this large file as drive C:, enabling files to be accessed as normal.

Microsoft's decision to develop DoubleSpace and add it to MS-DOS was probably influenced by the fact that DOS-based operating systems from other manufacturers ([[IBM]] and [[Novell]]) had started including disk compression software in their products.

Instead of developing its own product from scratch, Microsoft licensed the technology for the [[DoubleDisk]] product developed by [[Vertisoft]] and adapted it to become DoubleSpace. For instance, the loading of the driver controlling the compression/decompression (DBLSPACE.BIN) became more deeply integrated into the operating system (being loaded even before the CONFIG.SYS file).

Microsoft had originally sought to license the technology from [[Stac Electronics]], which had a similar product called Stacker, but these negotiations had failed. Microsoft was later successfully sued for patent infringement by Stac Electronics for violating some of its compression patents. During the court case Stac Electronics claimed that Microsoft had refused to pay any money when it attempted to license Stacker, offering only the possibility of Stac Electronics to develop enhancement products.

== Reception and incompatibilities ==
{{Unreferenced section|date=October 2009}}
Initially, DoubleSpace was surrounded by an air of mystery. Many had difficulties understanding how it was possible to store more data on the disk than what was stated by the disc manufacturer. This led to much speculation, with some users thinking DoubleSpace changed the way data was stored physically on the disk, and there were rumors that using DoubleSpace would reduce the longevity of the disks or the computer itself. This was a misunderstanding: DoubleSpace used purely logical/software means to obtain its results and from a compression point-of-view was not different from other compression tools like [[PKZIP]]. DoubleSpace is, however, different from such programs in other aspects. For instance, it compresses whole discs rather than select files. Furthermore, it hooks into the file routines in the operating system so that it can handle the compression/decompression (which operates on a per-cluster basis) transparently to the user and to programs running on the system. 

A few computer programs, particularly games, were incompatible with DoubleSpace because they effectively bypassed the DoubleSpace driver. DoubleSpace also consumed a significant amount of [[conventional memory]], making it difficult to run memory-intensive programs.

== Bugs and data loss ==
Shortly after its release, reports of data loss emerged. A company called [[Blossom Software]] claimed to have found a bug that could lead to data corruption. The bug occurred when writing files to heavily fragmented disks and was demonstrated by a program called BUST.EXE. The company sold a program called DoubleCheck that could be used to check for the fragmentation condition that could lead to the error. Microsoft's position was that the error only occurred under unlikely conditions, but fixed the problem in MS-DOS 6.2.&lt;ref&gt;{{cite journal |url=http://books.google.dk/books?id=8zoEAAAAMBAJ&amp;pg=PA20 |title=It's a good idea to 'DoubleCheck' your disk for fragmentation |journal=[[InfoWorld]] |first=Brian |last=Livingston |date=20 September 1993}}&lt;/ref&gt;

The fragmentation condition was related to the way DoubleSpace compresses individual clusters (of size, say, 8K), and fits them on the disk, occupying fewer sectors (size 512 bytes) than the fixed number required without DoubleSpace (16 sectors in this example). This created the possibility of a kind of internal fragmentation issue, where DoubleSpace would be unable to find enough consecutive sectors for storing a compressed cluster even if plenty of space was available.

Other potential causes of data loss included the corruption DoubleSpace's memory areas by other programs, and Microsoft attempted to remedy this in the MS-DOS 6.2 version of DoubleSpace (via a feature called DoubleGuard that would check for such corruption).

The fact that the compressed contents of a compressed drive was stored in a single file implied the possibility of a user accidentally deleting all his/her data by deleting just that file. This could happen if the user inadvertently got access to the host drive, containing this file. The host drive was usually mapped to the letter H: by the compression driver. However, if the compression driver had failed to load the user might see it as drive C:

Turning off the computer before DoubleSpace could finish updating its data structures could also result in data loss. This problem was compounded by Microsoft making write caching enabled by default in the SMARTDRV disk cache software that came with MS-DOS 6.0. Because of this change, after exiting an application, the MS-DOS prompt might appear before all data had been written to the disk. However, due to the lack of a controlled shutdown procedure (as found in modern operating systems), many users saw the appearance of the MS-DOS prompt as an indication that it was safe to switch off the computer, which was typically the case prior to MS-DOS 6.0.
Microsoft addressed this issue in MS-DOS 6.2 where the write caching was still enabled by default, but where the cache would be flushed before allowing the command prompt to reappear.

==Add-ons==
The company [[AddStor, Inc.]] offered an add-on product called [[Double Tools for DoubleSpace]]. It contained a number of tools to enhance the functions of the version of DoubleSpace that came with MS-DOS 6.0. This included various diagnostic features as well as support for background defragmentation of DoubleSpace compressed drives.&lt;ref&gt;{{cite web|url=http://www.byte.com/art/9402/sec6/art1.htm|title=How Safe Is Data Compression?|author=Tom R. Halfhill|year=1994}}&lt;/ref&gt;
Optionally, it was possible to let DoubleTools replace the low-level DoubleSpace driver (DBLSPACE.BIN) with one supplied by DoubleTools, enabling enhanced functionality of the product.&lt;ref&gt;{{cite web|url= http://www.byte.com/art/9402/sec6/art3.htm|title=Data Loss: A Cautionary Tale|author=Howard Eglowstein|year=1994}}&lt;/ref&gt;

[[Vertisoft]], the company who developed the DoubleDisk program that Microsoft subsequently licensed and turned into DoubleSpace, developed and sold a DoubleSpace add-on program called [[SpaceManager]], which contained a number of usability enhancements. It also offered improved compression ratios and, consequently, space savings.

Other products, like later versions of Stacker from Stac Electronics, were capable of converting existing DoubleSpace compressed drives into the Stacker format.

== Later versions ==
=== MS-DOS 6.2 ===
DOS 6.2 featured a new and improved version of DoubleSpace. The ability to remove DoubleSpace was added. The program [[SCANDISK]] introduced in this release was able to scan the non-compressed and compressed drives, including checks of the internal DoubleSpace structures. Security features (known as DoubleGuard) were added to prevent memory corruption from leading to data loss. The memory footprint of the DoubleSpace driver was reduced compared to the version shipped in MS-DOS 6.0. A fix was made to the fragmentation issue discussed above.

=== MS-DOS 6.21 ===
Following a successful lawsuit by [[Stac Electronics]] regarding demonstrated [[patent infringement]], Microsoft released MS-DOS 6.21 without DoubleSpace.  A court injunction also prevented any further distribution of the previous versions of MS-DOS that included DoubleSpace.

=== MS-DOS 6.22 ===
MS-DOS 6.22 contained a reimplemented version of the disk compression software, but this time released under the name '''DriveSpace'''. The software was essentially identical to the MS-DOS 6.2 version of DoubleSpace from a user point-of-view, and was compatible with previous versions.

=== DriveSpace in Windows 95 ===
[[Windows 95]] had full support of DoubleSpace/DriveSpace via a native 32-bit driver for accessing the compressed drives, along with a graphical version of the software tools. MS-DOS DriveSpace users could upgrade to Windows 95 without any troubles.  Furthermore, the [[Microsoft Plus!|Microsoft Plus! for Windows 95]] pack contained version 3 of DriveSpace. This version introduced new compression formats (HiPack and UltraPack) with different performance characteristics for even greater compression ratios along with a tool that could recompress the files on the disk using the different formats, depending on how frequently the files were used etc. One could upgrade from DriveSpace 2 to DriveSpace 3 but not vice versa. One could however decompress a DriveSpace 3 drive. The DOS device driver of DriveSpace 3 had a memory footprint of around 150 KB because of all these new features. This caused difficulty for users rebooting into the MS-DOS mode of Windows 95 for running games, because of the reduced amount of [[conventional memory]] available.

DriveSpace 3 also shipped with Windows 95 OSR2 but many features were disabled unless Plus! was also installed. DriveSpace could also not be used with FAT32, making it of little use on PCs with large hard drives.

=== DriveSpace in Windows 98 ===
[[Windows 98]] shipped with DriveSpace 3 as part of the operating system. Functionality was the same as in Windows 95 with Plus!.

=== DriveSpace in Windows Me ===
Because of the removal of [[real mode]] support and the decreasing popularity of DriveSpace, DriveSpace in [[Windows Me]] had only limited support. DriveSpace no longer supported hard disk compression, but still supported reading and writing compressed removable media, although the only DriveSpace operation supported beside that was deleting and reallocating compressed drives.

== Compression for other common Windows file systems ==
* [[File Allocation Table|FAT32]] is not supported by DriveSpace tools.
* [[NTFS]] has its own compression technology (&quot;compact&quot;) native to [[Windows NT]]-based operating systems instead of DriveSpace.

== Support outside Microsoft ==
[http://cmp.felk.cvut.cz/~pisa/dmsdos/ DMSDOS], a Linux kernel driver, was developed in late 1990s to support both the reading and writing of DoubleSpace/DriveSpace disks. However, reading and especially writing to compressed filesystem is reliable only in specific versions of the 2.0, 2.1 or 2.2 versions of the kernel.

== References ==
{{reflist}}

== External links ==
* [http://support.microsoft.com/kb/q154997/ FAT32 Compatibility]

[[Category:Data compression]]
[[Category:Discontinued Microsoft software]]
[[Category:Windows 95]]
[[Category:Windows 98]]
[[Category:DOS on IBM PC compatibles]]
[[Category:Discontinued software]]
[[Category:Discontinued Windows components]]

[[de:DriveSpace]]
[[es:DriveSpace]]
[[ko:ëë¸ì¤íì´ì¤]]
[[it:DriveSpace]]
[[pl:DriveSpace]]</rev></revisions></page></pages></query></api>
