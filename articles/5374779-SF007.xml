<?xml version="1.0"?><api><query><pages><page pageid="5374779" ns="0" title="Binfmt misc"><revisions><rev xml:space="preserve">{{DISPLAYTITLE:binfmt_misc}}
{{Refimprove|date=September 2009}}

'''binfmt_misc''' is a capability of the [[Linux kernel]] which allows arbitrary [[executable file format]]s to be recognized and passed to certain [[user space]] applications, such as [[emulator]]s and [[virtual machine]]s.

The executable formats are registered through a [[special purpose file system]] interface (similar to [[/proc]]). [[Debian]]-based distributions provide the functionality through an extra ''binfmt-support'' package.&lt;ref&gt;http://packages.debian.org/sid/binfmt-support&lt;/ref&gt;

== Registration ==
The &lt;tt&gt;register&lt;/tt&gt; file contains lines which define executable types to be handled. Each line is of the form:

&lt;tt&gt;:name:type:offset:magic:mask:interpreter:&lt;/tt&gt;

* &lt;tt&gt;name&lt;/tt&gt; is the name of the binary format.
* &lt;tt&gt;type&lt;/tt&gt; is either &lt;tt&gt;E&lt;/tt&gt; or &lt;tt&gt;M&lt;/tt&gt;
** If it is &lt;tt&gt;E&lt;/tt&gt;, the executable file format is identified by its [[filename extension]]: &lt;tt&gt;magic&lt;/tt&gt; is the file extension to be associated with the binary format; &lt;tt&gt;offset&lt;/tt&gt; and &lt;tt&gt;mask&lt;/tt&gt; are ignored.
** If it is &lt;tt&gt;M&lt;/tt&gt;, the format is identified by [[File format#Magic number|&lt;tt&gt;magic&lt;/tt&gt; number]] at an absolute &lt;tt&gt;offset&lt;/tt&gt; in the file and &lt;tt&gt;mask&lt;/tt&gt; is a [[bitmask]] indicating which bits in the number are significant.
* &lt;tt&gt;interpreter&lt;/tt&gt; is a program that is to be run with the matching file as an argument.

Each format has a corresponding file entry in the &lt;tt&gt;/proc/sys/fs/binfmt_misc&lt;/tt&gt; directory which can be read to get information about a given file format.

== Common usage ==
binfmt_misc allows [[Java (programming language)|Java]] programs to be passed directly to the [[Java virtual machine]].

Another common usage is to execute [[PE executable]]s (compiled for [[MS-DOS]] or [[Microsoft Windows]]) through [[Wine (software)|Wine]]. For example, the following line will run DOS and Windows [[EXE]] files (identified by the &quot;MZ&quot; [[type code]]) using [[Wine (software)|Wine]]:

&lt;tt&gt;:DOSWin:M::MZ::/usr/bin/wine:&lt;/tt&gt;

To run EXE (.NET) files with [[Mono (software)|Mono]]&lt;ref&gt;http://git.kernel.org/gitweb.cgi?p=linux/kernel/git/torvalds/linux-2.6.git;a=blob;f=Documentation/mono.txt;hb=HEAD&lt;/ref&gt;&lt;ref&gt;[http://www.mono-project.com/Guide:Running_Mono_Applications Guide:Running Mono Applications]&lt;/ref&gt;:

&lt;tt&gt;:CLR:M::MZ::/usr/bin/mono:&lt;/tt&gt;

== See also ==
{{Portal|Free software}}
* [[Shebang (Unix)]]

==References==
{{Refbegin}}
* [http://git.kernel.org/gitweb.cgi?p=linux/kernel/git/torvalds/linux-2.6.git;a=blob;f=Documentation/binfmt_misc.txt;hb=HEAD Documentation/binfmt_misc.txt] in the Linux kernel source tree
&lt;references/&gt;
{{Refend}}

==External links==
* [http://www.tat.physik.uni-tuebingen.de/~rguenth/linux/binfmt_misc.html Project home page] {{Dead link|date=July 2011}}
* [http://www.kernel.org/doc/Documentation/binfmt_misc.txt binfmt_misc documentation at kernel.org]

{{DEFAULTSORT:Binfmt Misc}}
[[Category:Linux kernel features]]
[[Category:Free special purpose file systems]]

[[de:binfmt misc]]</rev></revisions></page></pages></query></api>
