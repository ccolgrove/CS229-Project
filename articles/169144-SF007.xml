<?xml version="1.0"?><api><query><pages><page pageid="169144" ns="0" title="GNU LilyPond"><revisions><rev xml:space="preserve">{{Infobox software
| name                   = GNU LilyPond
| logo                   = [[Image:LilyPond-logo.png|150px|Official LilyPond Logo]]
| frequently updated     = yes
| operating system       = [[Cross-platform]]
| author                 = Han-Wen Nienhuys, Jan Nieuwenhuizen
| developer              = LilyPond development team&lt;ref&gt;{{cite web |url=http://lilypond.org/doc/v2.13/Documentation/web/authors |title=Authors |publisher=LilyPond Development team |accessdate=2010-02-16 }}&lt;/ref&gt;
| released               = {{start date|1996}}
| license                = [[GNU General Public License|GPL]]
| programming language   = [[Scheme (programming language)|Scheme]], [[C++]], [[Metafont]], [[PostScript]], [[Python (programming language)|Python]]
| website                = http://lilypond.org/
| influenced_by          = [[abc music notation|abc_notation]], [[LaTeX]], [[MusicTex]], [[muTeX]], [[Povray]]
| influenced             = [[Canorus]], [[GNU Denemo|Denemo]], Frescobaldi, [[Mutopia Project]], [[NoteEdit]], [[Rosegarden]]
| font                   = [[FETA]]
| status                 = Active
| size                   = 20MB, 100MB including documentation
| language               = [[Dutch language|Dutch]], [[English language|English]], [[French language|French]], [[German language|German]], [[Japanese language|Japanese]], [[Spanish language|Spanish]], [[Hungarian language|Hungarian]], [[Italian language|Italian]]
| standard               = [[MusicXML]], [[Scalable Vector Graphics|SVG]]
| genre                  = [[application program]]s, [[music software]], [[music engraving]], [[scorewriter]]
}}

'''GNU LilyPond''' is a [[computer program]] for [[music engraving]]. One of LilyPond's major goals is to produce scores that are engraved with traditional layout rules, reflecting the era when scores were engraved by hand.

LilyPond is [[cross-platform]], and is available for several common [[operating system]]s; released under the terms of the [[GNU General Public License]], LilyPond is [[free software]].

==History==
The LilyPond project was started in 1996 by Han-Wen Nienhuys and Jan Nieuwenhuizen, after they decided to abandon work on MPP ([[MusiXTeX]] PreProcessor), a project they began collaborating on in 1995.&lt;ref&gt;{{cite web |url=http://lilypond.org/doc/v2.12/Documentation/user/lilypond-learning/Preface |title=GNU LilyPond Learning Manual: Preface |accessdate=2010-02-16 }}&lt;/ref&gt;&lt;ref&gt;{{cite web |url=http://github.com/janneke/mpp |title=MusiXTeX PreProcessor README |accessdate=2010-03-31 }}&lt;/ref&gt;

=== Version 1.0 ===
LilyPond 1.0 was released on July 31, 1998, highlighting the development of a custom music font, Feta, and the complete separation of LilyPond from MusiXTeX.&lt;ref&gt;{{cite mailing list |url=http://www.mail-archive.com/gnu-music-discuss@gnu.org/msg00313.html |title=GNU LilyPond 1.0 released |date=1998-07-31 |accessdate=2010-02-16 |mailinglist=gnu-music-discuss |last=Nienhuys |first=Han-Wen }}&lt;/ref&gt;

=== Version 2.0 ===
LilyPond 2.0 was released on September 24, 2003, announcing a simplified syntax model and a much more complete set of facilities for notating various styles of music.&lt;ref&gt;{{cite mailing list |url=http://lists.gnu.org/archive/html/info-lilypond/2003-09/msg00008.html |title=LilyPond 2.0 - make beautiful music prints |date=2003-09-24 |accessdate=2010-02-16 |mailinglist=info-lilypond |last=Nienhuys |first=Han-Wen }}&lt;/ref&gt;

==Design==
LilyPond is mostly written in [[C++]] and uses [[Scheme (programming language)|Scheme]] (interpreted by [[GNU Guile]]) as its extension language, allowing for user customization.&lt;ref&gt;{{cite web |url=http://lilypond.org/doc/v2.13/Documentation/contributor/lilypond-programming-languages |title=LilyPond programming languages |accessdate=2010-02-15 }}&lt;/ref&gt;  It has a relatively large codebase; as of February 2010, the source comprises over 68,000 lines of C++ and 23,000 lines of Scheme code.&lt;ref&gt;{{cite web |url=http://www.ohloh.net/p/lilypond/analyses/latest |title=GNU LilyPond Music Typesetter - Code Analysis |accessdate=2010-02-16 }}&lt;/ref&gt;

It uses a simple text notation for music input, which LilyPond interprets and processes in a series of stages.&lt;ref&gt;{{cite web |url=http://lilypond.org/doc/v2.13/Documentation/contributor/overview-of-lilypond-architecture |title=Overview of LilyPond architecture |accessdate=2010-02-15 }}&lt;/ref&gt;  In the final stage, music notation is output to [[PDF]] (via [[PostScript]]) or other graphical formats, such as [[Scalable Vector Graphics|SVG]] or [[Portable Network Graphics|PNG]].  LilyPond also has the facility to generate [[Musical Instrument Digital Interface|MIDI]] files that correspond to the music notation output.

LilyPond is a [[Console application|text-based application]], so it does not contain its own [[graphical user interface]] to assist with score creation.  It does, however, have a flexible input language that strives to be simple, easing the [[learning curve]] for new users.  LilyPond adheres to the [[WYSIWYM]] paradigm; the workflow for typesetting music notation with LilyPond is similar to that of preparing documents with [[LaTeX]].

==Software features==
LilyPond's primary goal is to produce output comparable to professionally-engraved scores instead of output that looks mechanical and computer-generated.  An essay from the LilyPond website, written by LilyPond developers, explains some typographical issues addressed by LilyPond:&lt;ref&gt;{{cite web |last1=Nienhuys |first1=Han-Wen |last2=Nieuwenhuizen |first2=Jan |url=http://lilypond.org/web/about/automated-engraving/ |title=Obsessed with putting ink on paper |accessdate=2010-02-15 }}&lt;/ref&gt;

* '''Optical font scaling''': depending on the staff size, the design of the music font is slightly altered; this is a feature that [[Donald Knuth|Donald Knuth's]] [[Computer Modern]] font is known for.  As a result, note heads become more rounded, and staff lines become thicker.
* '''Optical spacing''': stem directions are taken into account when spacing subsequent notes.
* '''Special ledger line handling''': ledger lines are shortened when accidentals are nearby, thus enhancing readability.
* '''Proportional spacing''': notes can be positioned in such a way that ''exactly'' reflects their duration.  For example, with this setting, the space between consecutive [[quarter note]]s is four times greater than between consecutive [[sixteenth note]]s.&lt;ref&gt;{{cite web |url=http://lilypond.org/web/switch/new-notation |title=Strange notation |accessdate=2010-02-15 }}&lt;/ref&gt;

==Overview of input syntax==
The native input language for LilyPond is comprehensive, consisting of many commands needed for expressing any sort of articulation, dynamic, meter, etc.  The ability to embed Scheme code within a LilyPond source file permits arbitrary extensions to the input language and assists with [[algorithmic composition]].  Some general syntactic features are listed below.

* Single-line [[comment (computer programming)|comments]] begin with a percent (%) sign.&lt;ref&gt;{{cite web |url=http://lilypond.org/doc/v2.13/Documentation/learning/working-on-input-files |title=LilyPond Learning Manual: 1.2.2 Working on input files |accessdate=2010-09-22 }}&lt;/ref&gt;
* [[Note]]s are represented in ''pitch-duration'' format: ''pitch'' is specified with [[Helmholtz pitch notation]], and ''duration'' is specified with a [[Numeral system|numeral]] based system.  The semantics of the ''pitch-duration'' format change depending on the active input mode; this is explained in depth in the LilyPond manual.  For example, in absolute mode, &lt;code&gt;a'4&lt;/code&gt; is an A, one octave up from the base A (A3 in [[scientific pitch notation]]), of quarter note length.&lt;ref&gt;{{cite web |url=http://lilypond.org/doc/v2.13/Documentation/notation/writing-pitches |title=LilyPond Notation Reference: 1.1.1 Writing pitches |accessdate=2010-09-22 }}&lt;/ref&gt;
* Commands usually begin with a backslash (such as &lt;code&gt;\time&lt;/code&gt;, or &lt;code&gt;\slurUp&lt;/code&gt;).  The function of the command in question determines where the command is placed; for example, if the command is used to indicate a fixed [[Dynamics (music)|dynamic]] on a specific note, it is placed ''after'' the note.&lt;ref&gt;{{cite web |url=http://lilypond.org/doc/v2.13/Documentation/notation/expressive-marks-attached-to-notes#dynamics |title=LilyPond Notation Reference: 1.3.1 Expressive marks attached to notes |accessdate=2010-09-22 }}&lt;/ref&gt;
* Some common commands are represented symbolically to ease typing.  One example is with [[Slur (music)|slurs]], where &lt;code&gt;(&lt;/code&gt; and &lt;code&gt;)&lt;/code&gt; indicate the beginning and ending of a slur, respectively.&lt;ref&gt;{{cite web |url=http://lilypond.org/doc/v2.13/Documentation/notation/expressive-marks-as-curves#slurs |title=LilyPond Notation Reference: 1.3.2 Expressive marks as curves |accessdate=2010-09-22 }}&lt;/ref&gt;  Another example is with manual [[Beam (music)|beaming]], where &lt;code&gt;[&lt;/code&gt; and &lt;code&gt;]&lt;/code&gt; indicate the extent of the beam.&lt;ref&gt;{{cite web |url=http://lilypond.org/doc/v2.13/Documentation/notation/beams#manual-beams |title=LilyPond Notation Reference: 1.2.4 Beams |accessdate=2010-09-22 }}&lt;/ref&gt;

LilyPond's interface with [[Pango]] requires the input [[character encoding]] to be [[UTF-8]].&lt;ref&gt;{{cite web |url=http://lilypond.org/doc/v2.13/Documentation/notation/text-encoding |title=LilyPond Notation Reference: 3.3.3 Text encoding |accessdate=2010-09-22 }}&lt;/ref&gt;  One benefit of this is that more than one language can be included in the same source file.

==Example of LilyPond input file==
&lt;source lang=&quot;latex&quot;&gt;
\version &quot;2.15.14&quot;

\include &quot;english.ly&quot;

\header {
  title = \markup { &quot;Excerpt from&quot; \italic &quot;fibonacci&quot; }
  composer = &quot;Patrick McCarty&quot;
  %copyright =
  %  \markup \fontsize #-5 {
  %    Copyright Â© 2009.
  %    Typeset with GNU LilyPond.
  %    Released into public domain by the composer.
  %  }
}

\paper {
  paper-height = 4.6\in
  paper-width = 8.5\in
  indent = #0
  system-count = #2
}

\score {
  \new PianoStaff = &quot;pianostaff&quot; &lt;&lt;
    \new Staff = &quot;RH&quot; \relative c' {
      #(set-accidental-style 'piano 'Score)
      \clef &quot;treble&quot;
      \time 2/4
      \set Score.currentBarNumber = #51
      \tempo &quot;Slow and steady&quot; 4 = 60
      &lt;e gs,&gt;4 \acciaccatura { cs16[ ds] } &lt;e gs,&gt;4 | % m. 51
      &lt;ds gs,&gt;4 \acciaccatura { e16[ ds] } &lt;cs gs&gt;4 | % m. 52
      &lt;cs gs&gt;4 \acciaccatura { ds16[ cs] } &lt;c g&gt;4  | % m. 53
      &lt;cs gs&gt;4 \acciaccatura { ds16[ e] } &lt;es bs gs&gt;4 | % m. 54

      &lt;e gs,&gt;4 \acciaccatura { cs16[ ds] } e16 f gs a | % m. 55
      &lt;gs c,&gt;8 \acciaccatura { as16[ gs] }
      &lt;es b&gt;8 ~ &lt;es b&gt;16 ds b as | % m. 56

      b16 d8 bf32 f' g16 af bf c | % m. 57
      &lt;df df,&gt;16 ( c af ) &lt;e' e,&gt; ( ds b ) &lt;g' g,&gt; ( ds | % m. 58

      \time 3/4
      &lt;gs gs,&gt;16 ) \noBeam d,16 f gs
      a16 e f b
      c16 d, ( f gs | % m. 59

      a16 b ) e, ( f
      gs16 b c ) f, (
      gs16 as b c ) | % m. 60
    }

    \new Dynamics = &quot;Dynamics_pf&quot; {
      s4 \p \&lt; s4 | % m. 51
      s4 s4 | % m. 52
      s4 \mp \&gt; s4 | % m. 53
      s4 s4 \! | % m. 54
      s4 \p s4 | % m. 55
      s1 * 2/4 | % m. 56
      s4 \&lt; s4 | % m. 57
      s4 s4 | % m. 58
      \override DynamicText #'extra-spacing-width = #'(-0.75 . 0.75)
      s16 \mf s16 \p s8 s4 s4 | % m. 59
      s2. | % m. 60
    }

    \new Staff = &quot;LH&quot; \relative c, {
      \clef &quot;bass&quot;
      \time 2/4
      cs4. cs8 | % m. 51
      cs4. d8 | % m. 52
      f4. a8 | % m. 53
      f4. d8 | % m. 54

      cs4. cs8 | % m. 55
      d4 ds | % m. 56
      gs4. bf,8 | % m. 57
      f'4 b, | % m. 58

      \time 3/4
      d4. d8 ~ d4 | % m. 59
      ef2 f4 | % m. 60
    }
  &gt;&gt;
}
&lt;/source&gt;

===Corresponding output===
[[Image:Fibonacci_composition.svg|700px|Rendered output]]

==Collaboration with other projects==
[[File:Lilypond-screenshot-adeste.png|thumb|300px|First [[measure (music)|measure]]s of ''[[Adeste Fideles]]'', generated by LilyPond.]]
Several graphical [[scorewriter]]s; such as [[Rosegarden]], [[MuseScore]], [[NoteEdit]], Canorus, [[Denemo]], and [[TuxGuitar]]; can export files directly to LilyPond format.  Other graphical applications serve as front ends to LilyPond, including [[Frescobaldi (software)|Frescobaldi]] and the LilyPondTool plugin for [[jEdit]].

The [[Mutopia Project]], which distributes [[free content]] sheet music, uses LilyPond to typeset its music, as does [[Musipedia]], a collaborative music encyclopedia.  [[Wikipedia:WikiTeX|WikiTeX]], a [[MediaWiki]] interface, supports editing LilyPond notation directly in wiki articles.

[[Emacs]]' [[org-mode]] contains support for embedding LilyPond scores into documents.&lt;ref&gt;[https://github.com/mjago/ob-lilypond#readme github.com]&lt;/ref&gt;

==Comparison to other scorewriters==
[[Finale (software)|Finale]] and [[Sibelius (software)|Sibelius]] are two [[proprietary software|proprietary]] scorewriters often compared to LilyPond.  One LilyPond user wrote a series of articles comparing output quality between Finale and LilyPond.&lt;ref&gt;{{cite web |last=Hawryluk |first=Andrew |url=http://www.musicbyandrew.ca/finale-lilypond-1.html |title=Finale and LilyPond |accessdate=2010-02-15 }}&lt;/ref&gt;

Another scorewriter with comparable features to LilyPond is [[SCORE (software)|SCORE]].

==See also==
{{Portal|Free software}}
* [[List of scorewriters]]
* [[ABC notation]]
* [[Denemo]]
* [[Frescobaldi (software)|Frescobaldi]]
* [[GUIDO music notation]]
* [[NoteEdit]]
* [[Rosegarden]]

==References==
{{Reflist|colwidth=30em}}

==External links==
{{Commons category|LilyPond}}
* [http://lilypond.org/ Official LilyPond website]
* [http://weblily.net/ WebLily.net] - Web based LilyPond interface
* [http://lilypond.org/web/images/xivcim.pdf &quot;Lilypond, a system for automated music engraving&quot;] -(by [[Han-Wen Nienhuys]], [[Jan Nieuwenhuizen]]; [[PDF]])

{{GNU}}
{{Scorewriters}}

{{DEFAULTSORT:Lilypond, Gnu}}
&lt;!--Categories--&gt;
[[Category:Scorewriters]]
[[Category:GNU Project software]]
[[Category:Free music software]]
[[Category:Free software programmed in C++]]
[[Category:Music notation file formats]]
[[Category:Cross-platform software]]

&lt;!--Other languages--&gt;

[[ca:LilyPond]]
[[de:LilyPond]]
[[es:GNU LilyPond]]
[[eo:LilyPond]]
[[fr:GNU LilyPond]]
[[it:GNU LilyPond]]
[[la:LilyPond]]
[[lv:GNU LilyPond]]
[[hu:GNU LilyPond]]
[[nl:LilyPond]]
[[ja:GNU LilyPond]]
[[no:Lilypond]]
[[pl:LilyPond]]
[[pt:LilyPond]]
[[ru:GNU LilyPond]]
[[tr:LilyPond]]
[[uk:GNU LilyPond]]</rev></revisions></page></pages></query></api>
